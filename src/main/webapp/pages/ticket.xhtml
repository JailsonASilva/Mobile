<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile">
<f:view renderKitId="PRIMEFACES_MOBILE" />
<h:head>

</h:head>

<h:body>
	<pm:page id="main">
		<h:form id="form">
			<p:growl id="messages" showDetail="true" />

			<pm:header title="Novo Ticket" swatch="b">
				<a href="principal.xhtml" data-icon="home" data-theme="b">Menu </a>
			</pm:header>

			<pm:field>
				<p:outputLabel for="departamento" value="Departamento" />
				<p:selectOneMenu id="departamento" filter="true"
					value="#{ticketBean.ticket.departamento}" required="true"
					requiredMessage="O campo Departamento é obrigatório"
					converter="omnifaces.SelectItemsConverter">
					<f:selectItem noSelectionOption="true"
						itemLabel="Selecione um Departamento" />
					<f:selectItems value="#{ticketBean.departamentos}"
						var="departamento" itemValue="#{departamento}"
						itemLabel="#{departamento.nome}" />
				</p:selectOneMenu>
			</pm:field>

			<pm:field>
				<p:outputLabel for="assunto" value="Assunto" />
				<p:inputText id="assunto" maxlength="100" size="63" required="true"
					requiredMessage="Campo Assunto Obrigatório!"
					value="#{ticketBean.ticket.assunto}" />
			</pm:field>

			<pm:field>
				<p:outputLabel for="solicitacao" value="Solicitação" />
				<p:inputTextarea id="solicitacao" rows="4" cols="60" required="true"
					requiredMessage="Campo Solicitação Obrigatório!" counter="display"
					maxlength="1000" counterTemplate="{0} caracteres restantes."
					autoResize="false" value="#{ticketBean.ticket.solicitacao}" />
				<h:outputText id="display" />
			</pm:field>

			<pm:field>
				<p:commandButton value="Abrir Ticket" icon="ui-icon-check"
					actionListener="#{ticketBean.salvar}"
					update=":main:form:departamento :main:form:assunto :main:form:solicitacao :main:form:messages" />
			</pm:field>

		</h:form>

		<div data-role="footer" data-position="fixed" data-theme="b">
			<h1>Grupo Educa - Tecnologia da Informação</h1>
		</div>
	</pm:page>
</h:body>
</html>